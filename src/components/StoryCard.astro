---
// src/components/StoryCard.astro
import type { CollectionEntry } from 'astro:content';

interface Props {
  historia: CollectionEntry<'historias'>;
}

const { historia } = Astro.props;
const url = `/historias/${historia.slug}`;
---
<a href={url} class="block bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden">
  
  {historia.data.cover && (
    <img src={historia.data.cover} alt={`Portada de ${historia.data.title}`} class="w-full h-48 object-cover" />
  )}

  <div class="p-4">
    <p class="text-sm text-gray-500 mb-1">
      {historia.data.fecha.toLocaleDateString('es-CL')}
    </p>
    
    <h3 class="text-2xl font-bold text-gray-900 group-hover:text-blue-600">
      {historia.data.title}
    </h3>

    <p class="text-gray-700 mt-2">
      {historia.data.resumen}
    </p>
  </div>
</a>